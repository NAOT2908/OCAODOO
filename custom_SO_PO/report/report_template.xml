<odoo>
    <template id="report_saleorder_cus">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div class="row " style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="col-4 ">
                            <img t-if="doc.company_id.logo"
                                t-att-src="image_data_uri(doc.company_id.logo)"
                                style="max-height: 100px;" alt="Logo" />
                        </div>
                        <div class="col-8 text-start">
                            <div>
                                <strong>
                                    <span t-field="doc.company_id.name" />
                                </strong>
                            </div>
                            <div>
                                Trụ sở chính-HO: No. 74 Nguyen Khang, Yen Hoa, Cau Giay, Hanoi
                            </div>
                            <div>
                                Chi nhánh-Branch: Le Chan, Hai Phong
                            </div>
                            <div>
                                Điện thoại-Tel: 0243 2020 175/ 0911 741 551
                            </div>

                        </div>
                    </div>
                    <div class="row zero_min_height mt-4">
                        <div class="col-12">
                            <div style="border-bottom: 1px solid #ccc;" />
                        </div>
                    </div>
                    <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />
                    <t t-set="forced_vat" t-value="doc.fiscal_position_id.foreign_vat" /> <!--
                            So
                            that it appears in the footer of the report instead of the company VAT if it's
                            set -->
                    <div class="row mt-5 mb-1" style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="col-6">

                        </div>
                        <div class="col-6">
                            <div>
                                Người nhận-Recipient:
                            </div>
                            <div> Công ty-Company: <span t-field="doc.partner_id" />
                            </div>
                            <div> Địa chỉ-Address: <span t-field="doc.company_id.street" />
                            </div>
                            <div> Email: <span t-field="doc.company_id.email" />
                            </div>

                        </div>
                    </div>

                    <div class="page" style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="oe_structure" />
                        <h2>
                            <strong>Báo giá/Quotation # <span t-field="doc.name" /></strong>
                        </h2>

                        <div class="row mt-4 mb-2" id="informations"
                            style="font-family: Arial, Helvetica, sans-serif;">
                            <div t-if="doc.date_order" class="col-auto col-4 mw-100 mb-2"
                                name="informations_date">
                                <strong t-if="doc.state in ['draft', 'sent']">Ngày báo
                                    giá-Quotation
                                    Date:</strong>
                                <strong t-else="">Order Date:</strong>
                                <br />
                                <span class="m-0" t-field="doc.date_order"
                                    t-options="{&quot;widget&quot;: &quot;date&quot;}">
                                    2023-12-31</span>
                            </div>
                            <div t-if="doc.validity_date and doc.state in ['draft', 'sent']"
                                class="col-auto col-4 mw-100 mb-2" name="expiration_date">
                                <strong>Ngày hiệu lực-Expiration:</strong>
                                <br />
                                <span class="m-0" t-field="doc.validity_date">2023-12-31</span>
                            </div>
                            <div t-if="doc.user_id.name" class="col-auto col-4 mw-100 mb-2">
                                <strong>Phụ trách kinh doanh-Salesperson:</strong>
                                <br />
                                <span class="m-0" t-field="doc.user_id">Mitchell Admin</span>
                            </div>
                        </div>


                        <!-- Is there a discount on at least one line? -->
                        <t t-set="lines_to_report" t-value="doc._get_order_lines_to_report()" />
                        <t t-set="display_discount"
                            t-value="any(l.discount for l in lines_to_report)" />

                        <div class="oe_structure" />
                        <div style="font-weight: bold;">

                            A. Thông tin về sản phẩm, dịch vụ, số lượng và giá cả như ở
                            dưới/ Products &amp; Services description, quantity and price as
                            below
                        </div>
                        <table class="table table-sm o_main_table table-responsive"
                            style="font-family: Arial, Helvetica, sans-serif;">
                            <!-- In case we want to repeat the header, remove "display:
                                    table-row-group" -->
                            <thead>
                                <tr>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 40px "
                                        name="th_no">
                                        <div>STT</div>
                                        <div>No.</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 150px;"
                                        name="th_product">
                                        <div>Sản phẩm</div>
                                        <div>Products</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                        name="th_description">
                                        <div>Mô tả</div>
                                        <div>Description</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                        name="th_quantity">
                                        <div>Số lượng</div>
                                        <div>Quantity</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                        name="th_priceunit">
                                        <div>Đơn giá</div>
                                        <div>Unit Price</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                        name="th_discount" t-if="display_discount">
                                        <div>Chiết khấu</div>
                                        <div>Disc.%</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 80px;"
                                        name="th_taxes">
                                        <div>Thuế</div>
                                        <div>VAT</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                        name="th_subtotal">
                                        <div>Thành tiền</div>
                                        <div>Amount</div>
                                    </th>
                                    <th
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                        name="th_duration">
                                        <div>Thời gian</div>
                                        <div>Delivery time</div>
                                    </th>
                                </tr>
                            </thead>


                            <tbody class="sale_tbody" style="border-top: none;">
                                <t t-set="current_subtotal" t-value="0" />
                                <t t-set="index" t-value="0" />
                                <t t-set="tax" t-value="10" />
                                <t t-set="taxamount" t-value="0" />
                                <t t-set="totalamount" t-value="0" />
                                <t t-set="totalprice" t-value="0" />
                                <t t-foreach="lines_to_report" t-as="line">

                                    <t t-set="current_subtotal"
                                        t-value="current_subtotal + line.price_subtotal" />
                                    <t t-set="totalprice" t-value="totalprice + line.price_total" />
                                    <tr
                                        t-att-class="'text-uppercase fw-bold o_line_section' if line.display_type == 'line_section' else 'text-uppercase o_line_note' if line.display_type == 'line_note' else ''">
                                        <t t-if="not line.display_type">
                                            <t t-set="index" t-value="index + 1" />
                                            <!--<t
                                            t-set="amountprice"
                                            t-value="line.quantity*line.price_unit"/>-->
                                            <td
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                                name="td_no">
                                                <span t-esc="index" />
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-start"
                                                name="td_name">
                                                <span t-field="line.product_id">Bacon Burger</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_name">
                                                <div class="text-start" t-field="line.name">Bacon
                                                    Burger</div>
                                                <div class="text-end">
                                                    <img t-if="line.product_id.image_128"
                                                        t-att-src="image_data_uri(line.product_id.image_128)"
                                                        style="max-height: 100px;" alt="ProductImg" />
                                                </div>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_quantity"
                                                class="text-end">
                                                <span t-field="line.product_uom_qty">3</span>
                                                <span t-field="line.product_uom">units</span>
                                                <span t-if="line.product_packaging_id"> (<span
                                                        t-field="line.product_packaging_qty"
                                                        t-options="{&quot;widget&quot;: &quot;integer&quot;}" /> <span
                                                        t-field="line.product_packaging_id" /> ) </span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_priceunit"
                                                class="text-end">
                                                <span t-field="line.price_unit"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}">
                                                    3</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="display_discount" class="text-end">
                                                <span t-field="line.discount">-</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_taxes"
                                                class="text-end">
                                                <t t-if="line.tax_id">
                                                    <span
                                                        t-out="', '.join(map(lambda x: (x.name), line.tax_id))">
                                                        Tax 15%
                                                    </span>

                                                </t>
                                                <t t-else="">
                                                    <span>KCT</span>
                                                </t>

                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="not line.is_downpayment" name="td_subtotal"
                                                class="text-end o_price_total">
                                                <span t-field="line.price_subtotal">27.00</span>
                                                <t t-set="totalamount"
                                                    t-value="(totalamount + line.price_subtotal)" />
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-end ">
                                                <t t-if="line.customer_lead">
                                                    <span t-field="line.customer_lead"
                                                        t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}">
                                                        12-24</span>
                                                </t>
                                                <t t-else="">
                                                    <span />
                                                </t>
                                            </td>
                                        </t>
                                        <t t-elif="line.display_type == 'line_section'">
                                            <t t-set="index" t-value="0" />
                                            <td
                                                style="border: 1px solid #ccc; vertical-align: middle;"
                                                name="td_section_line" colspan="99">
                                                <span t-field="line.name">A section title</span>
                                            </td>
                                            <t t-set="current_section" t-value="line" />
                                            <t t-set="current_subtotal" t-value="0" />
                                        </t>
                                        <t t-elif="line.display_type == 'line_note'">
                                            <td
                                                style="border: 1px solid #ccc; vertical-align: middle;"
                                                name="td_note_line" colspan="99">
                                                <span t-field="line.name">A note, whose
                                                    content
                                                    usually applies to the section or
                                                    product above.</span>
                                            </td>
                                        </t>
                                    </tr>

                                </t>
                                <t t-set="taxamount" t-value="totalprice - totalamount" />
                                <tr>
                                    <td class="text-end " colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Tổng
                                        cộng - Total Amount </td>
                                    <td class="text-end" colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                        <span t-esc="totalamount"
                                            t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-end" colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Thuế
                                        GTGT-VAT </td>
                                    <td class="text-end" colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                        <span t-esc="taxamount"
                                            t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-end" colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Tổng
                                        giá thanh toán - Grand total </td>
                                    <td class="text-end" colspan="4"
                                        style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                        <span t-esc="totalprice"
                                            t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div>
                            <t t-set="has_option_discount"
                                t-value="any(option.discount != 0.0 for option in doc.sale_order_option_ids)" />
                            <div name="h_optional_products" style="font-weight: bold;">
                                <span>B. Dịch vụ tuỳ chọn/Option Services</span>
                            </div>
                            <table name="table_optional_products"
                                class="table table-sm table-responsive"
                                style="font-family: Arial, Helvetica, sans-serif;">
                                <thead class="fw-bold">
                                    <tr>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 40px "
                                            name="th_no">
                                            <div>STT</div>
                                            <div>No.</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 150px"
                                            name="th_product">
                                            <div>Sản phẩm</div>
                                            <div>Products</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                            name="th_description">
                                            <div>Mô tả</div>
                                            <div>Description</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                            name="th_quantity">
                                            <div>Số lượng</div>
                                            <div>Quantity</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                            name="th_priceunit">
                                            <div>Đơn giá</div>
                                            <div>Unit Price</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                            name="th_discount" t-if="display_discount">
                                            <div>Chiết khấu</div>
                                            <div>Disc.%</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 80px;"
                                            name="th_taxes">
                                            <div>Thuế</div>
                                            <div>VAT</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                            name="th_subtotal">
                                            <div>Thành tiền</div>
                                            <div>Amount</div>
                                        </th>
                                        <th
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                            name="th_duration">
                                            <div>Thời gian</div>
                                            <div>Duration</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody" style="border-top: none;">
                                    <t t-set="index" t-value="0" />
                                    <t t-set="amountprice" t-value="0" />
                                    <t t-set="tax" t-value="10" />
                                    <t t-set="taxamount" t-value="0" />
                                    <t t-set="totalamount" t-value="0" />
                                    <t t-set="totalprice" t-value="0" />
                                    <tr t-foreach="doc.sale_order_option_ids" t-as="option">
                                        <t t-set="index" t-value="index + 1" />
                                        <t t-set="amountprice"
                                            t-value="option.quantity*option.price_unit" />
                                        <td
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                            <span t-esc="index">1</span>
                                        </td>
                                        <td style="border: 1px solid #ccc;" class="text-start"
                                            name="td_option_name">
                                            <span t-field="option.product_id">Extra Chips</span>
                                        </td>
                                        <td style="border: 1px solid #ccc;" name="td_option_name">
                                            <div class="text-start" t-field="option.name">Extra
                                                Chips</div>
                                            <div class="text-end">
                                                <img t-if="option.product_id.image_128"
                                                    t-att-src="image_data_uri(option.product_id.image_128)"
                                                    style="max-height: 100px;" alt="ProductImg" />
                                            </div>
                                        </td>
                                        <td style="border: 1px solid #ccc;" class="text-end"
                                            name="td_option_quantity">
                                            <span t-field="option.quantity">Extra Chips</span>
                                            <span t-field="option.uom_id">Đơn vị</span>
                                        </td>
                                        <!--<td
                                        style="border: 1px solid #ccc;" t-if="has_option_discount"
                                        name="td_option_discount"
                                        groups="product.group_discount_per_so_line">-->
                                        <!--    <strong t-if="option.discount != 0.0"
                                        class="text-info">-->
                                        <!--        <t t-out="((option.discount % 1) and '%s' or '%d') %
                                        option.discount">-->
                                        <!--        -</t>% </strong>-->
                                        <!--</td>-->
                                        <td style="border: 1px solid #ccc;" class="text-end"
                                            name="td_option_price_unit">

                                            <div t-field="option.price_unit"
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"
                                                t-att-style="option.discount and 'text-decoration: line-through' or None"
                                                t-att-class="option.discount and 'text-danger' or None">
                                                1.5</div>
                                            <div t-if="option.discount">
                                                <t
                                                    t-out="'%.2f' % ((1-option.discount / 100.0) * option.price_unit)"> </t>
                                            </div>
                                            <!--<t
                                            t-set="totalamount" t-value="totalamount +
                                            option.price_unit" />-->
                                        </td>
                                        <td style="border: 1px solid #ccc;" t-if="display_discount"
                                            class="text-end">
                                            <span t-field="option.discount">-</span>
                                        </td>
                                        <td style="border: 1px solid #ccc;" name="td_taxes"
                                            class="text-end">
                                            <span t-esc="tax" />% <t t-set="taxamount"
                                                t-value="taxamount + (tax / 100) * option.price_unit" />
                                        </td>
                                        <td style="border: 1px solid #ccc;" name="td_subtotal"
                                            class="text-end o_price_total">
                                            <div
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"
                                                t-att-style="option.discount and 'text-decoration: line-through' or None"
                                                t-att-class="option.discount and 'text-danger' or None"
                                                t-esc="amountprice">27.00</div>
                                            <t t-set="totalamount"
                                                t-value="(totalamount + amountprice)" />

                                        </td>
                                        <td style="border: 1px solid #ccc;" class="text-end ">
                                            <span>12-24</span>
                                        </td>
                                    </tr>
                                    <tr>

                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Tổng
                                            cộng - Total Amount </td>
                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                            <span t-esc="totalamount"
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                            <t t-set="taxamount" t-value="(totalamount * 10)/ 100" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Thuế
                                            GTGT-VAT </td>
                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                            <span t-esc="taxamount"
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                            <t t-set="totalprice" t-value="totalamount + taxamount" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">Tổng
                                            giá thanh toán - Grand total </td>
                                        <td class="text-end" colspan="4"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                            <span t-esc="totalprice"
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="oe_structure">​</div>
                        </div>

                        <div class="oe_structure" />

                        <div style="font-family: Arial, Helvetica, sans-serif;">
                            <div>
                                <strong>Ghi chú - Remark: Báo giá không bao gồm:</strong>
                            </div>
                            <ol>
                                <li>Chi phí đi lại, ăn ở ngoài thành phố Hà Nội</li>
                                <li>Nhập liệu dữ liệu giao dịch</li>
                                <li>Thay thế, sửa chữa thiết bị hết thời hạn bảo hành</li>
                                <li>Các yêu cầu phát sinh ngoài phạm vi báo giá</li>
                            </ol>

                            <div>
                                <strong>Điều khoản thanh toán:</strong>
                            </div>
                            <div>Đặt cọc - Deposit: 50% giá trị Đơn hàng, 100% giá trị dịch vụ
                                Tuỳ chọn</div>
                            <div>Thanh toán - Payment: 50% giá trị còn lại khi hai bên ký Biên
                                bản Bàn giao</div>

                        </div>

                        <div style="font-family: Arial, Helvetica, sans-serif;"
                            class="row mt32 mb32" id="informations">
                            <div class="col-6 mw-100 mb-2" style="text-align: center;">
                                <p style="font-weight: bold;">Đại diện bên Cung cấp - For
                                    Provider</p>

                            </div>
                            <div class="col-6 mw-100 mb-2" style="text-align: center; ">
                                <p style="font-weight: bold;">Đại diện Khách hàng - For Client</p>

                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_saleorder2">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout" t-translation="off">
                    <div class="row " style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="col-4 ">
                            <img t-if="doc.company_id.logo"
                                t-att-src="image_data_uri(doc.company_id.logo)"
                                style="max-height: 100px;" alt="Logo" />
                        </div>
                        <div class="col-8 text-start">
                            <div>
                                <strong>
                                    <span t-field="doc.company_id.name" />
                                </strong>
                            </div>
                            <div>
                                Trụ sở chính-HO: No. 74 Nguyen Khang, Yen Hoa, Cau Giay, Hanoi
                            </div>
                            <div>
                                Chi nhánh-Branch: Le Chan, Hai Phong
                            </div>
                            <div>
                                Điện thoại-Tel: 0243 2020 175/ 0911 741 551
                            </div>

                        </div>
                    </div>
                    <div class="row zero_min_height mt-4">
                        <div class="col-12">
                            <div style="border-bottom: 1px solid #ccc;" />
                        </div>
                    </div>
                    <!--<t
                        t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>-->
                    <!--<t
                        t-set="forced_vat" t-value="doc.fiscal_position_id.foreign_vat"/> -->
                    <!--
                                         So
                                         that it appears in the footer of the report instead of the company VAT if it's
                                         set -->
                    <div class="row mt-5 mb-1" style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="col-6">

                        </div>
                        <div class="col-6">
                            <table style="width: 100%; border: 1px solid #fff">
                                <tr>
                                    <td>Người nhận-Recipient:</td>
                                    <td>
                                        <span t-field="doc.opportunity_id.partner_id.name" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>Công ty-Company:</td>
                                    <td>
                                        <span t-field="doc.opportunity_id.partner_id.company_name" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>Địa chỉ-Address:</td>
                                    <td>
                                        <span t-field="doc.opportunity_id.partner_id.street" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>Email:</td>
                                    <td>
                                        <span t-field="doc.opportunity_id.email_from" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>Điện thoại-Tel:</td>
                                    <td>
                                        <span t-field="doc.opportunity_id.phone" />
                                    </td>
                                </tr>
                            </table>

                        </div>
                    </div>
                    <p />
                    <div class="page" style="font-family: Arial, Helvetica, sans-serif;">
                        <div class="oe_structure" />
                        <h2>
                            <strong>Báo giá/Quotation # <span t-field="doc.name" /></strong>
                        </h2>

                        <div class="row mt-4" id="informations"
                            style="font-family: Arial, Helvetica, sans-serif;">
                            <div t-if="doc.date_order" class="col-auto col-4 mw-100 mb-2"
                                name="informations_date">
                                <strong t-if="doc.state in ['draft', 'sent']">Ngày báo
                                    giá-Quotation
                                    Date:</strong>
                                <strong t-else="">Order Date:</strong>
                                <br />
                                <span class="m-0" t-field="doc.date_order"
                                    t-options="{&quot;widget&quot;: &quot;date&quot;}">
                                    2023-12-31</span>
                            </div>
                            <div t-if="doc.validity_date and doc.state in ['draft', 'sent']"
                                class="col-auto col-4 mw-100 mb-2" name="expiration_date">
                                <strong>Ngày hiệu lực-Expiration:</strong>
                                <br />
                                <span class="m-0" t-field="doc.validity_date">2023-12-31</span>
                            </div>
                            <div t-if="doc.user_id.name" class="col-auto col-4 mw-100 mb-2">
                                <strong>Phụ trách kinh doanh-Salesperson:</strong>
                                <br />
                                <span class="m-0" t-field="doc.user_id">Mitchell Admin</span>
                            </div>
                        </div>

                        <!-- Is there a discount on at least one line? -->
                        <t t-set="lines_to_report" t-value="doc._get_order_lines_to_report()" />
                        <t t-set="display_discount"
                            t-value="any(l.discount for l in lines_to_report)" />

                        <div class="oe_structure" />

                        <table class="table table-sm o_main_table"
                            style="font-family: Arial, Helvetica, sans-serif;">

                            <tbody class="sale_tbody" style="border-top: none;">
                                <t t-set="current_subtotal" t-value="0" />
                                <t t-set="index" t-value="0" />
                                <t t-set="tax" t-value="10" />
                                <t t-set="taxamount" t-value="0" />
                                <t t-set="totalamount" t-value="0" />
                                <t t-set="totalprice" t-value="0" />
                                <t t-foreach="lines_to_report" t-as="line">
                                    <t t-set="current_subtotal"
                                        t-value="current_subtotal + line.price_subtotal" />
                                    <t t-set="totalprice" t-value="totalprice + line.price_total" />
                                    <tr
                                        t-att-class="'text-uppercase fw-bold o_line_section' if line.display_type == 'line_section' else 'o_line_note' if line.display_type == 'line_note' else ''">
                                        <t t-if="not line.display_type">
                                            <t t-set="index" t-value="index + 1" />
                                            <!--<t
                                                         t-set="amountprice"
                                                         t-value="line.quantity*line.price_unit"/>-->
                                            <td
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                                name="td_no">
                                                <span t-esc="index" />
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-start"
                                                name="td_name">
                                                <div t-field="line.product_id">Bacon Burger</div>
                                                <div class="text-center">
                                                    <img t-if="line.product_id.image_128"
                                                        t-att-src="image_data_uri(line.product_id.image_128)"
                                                        style="max-height: 100px;" alt="ProductImg" />
                                                </div>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_name">
                                                <div class="text-start" t-field="line.name">Bacon
                                                    Burger</div>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_quantity"
                                                class="text-end">
                                                <span t-field="line.product_uom_qty">3</span>
                                                <span t-field="line.product_uom">units</span>
                                                <span t-if="line.product_packaging_id"> (<span
                                                        t-field="line.product_packaging_qty"
                                                        t-options="{&quot;widget&quot;: &quot;integer&quot;}" /> <span
                                                        t-field="line.product_packaging_id" /> ) </span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_priceunit"
                                                class="text-end">
                                                <span t-field="line.price_unit"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}">
                                                    3</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="display_discount" class="text-end">
                                                <!-- <span t-field="line.discount">-</span> -->
                                                <strong t-if="line.discount != 0.0"
                                                    class="text-info">
                                                    <t
                                                        t-out="((line.discount % 1) and '%s' or '%d')                                            %                                                 line.discount">
                                                    -</t>% </strong>

                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_taxes"
                                                class="text-end">
                                                <t t-if="line.tax_id">
                                                    <span
                                                        t-out="', '.join(map(lambda x: (x.name), line.tax_id))">
                                                        Tax 15%
                                                    </span>

                                                </t>
                                                <t t-else="">
                                                    <span>KCT</span>
                                                </t>

                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="not line.is_downpayment" name="td_subtotal"
                                                class="text-end o_price_total">
                                                <span t-field="line.price_subtotal">27.00</span>
                                                <t t-set="totalamount"
                                                    t-value="(totalamount + line.price_subtotal)" />
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-end ">
                                                <t t-if="line.customer_lead">
                                                    <span t-field="line.customer_lead"
                                                        t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}">
                                                        12-24</span>
                                                </t>
                                                <t t-else="">
                                                    <span />
                                                </t>
                                            </td>
                                        </t>
                                        <t t-elif="line.display_type == 'line_note'">
                                            <td
                                                style="border: 1px solid #fff; border-bottom: 1px solid #ccc; vertical-align: middle; padding-top: 40px;"
                                                name="td_note_line" colspan="99">
                                                <strong>
                                                    <span t-field="line.name">A note, whose
                                                        content
                                                        usually applies to the section or
                                                        product above.</span>
                                                </strong>
                                            </td>
                                            <tr>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 40px "
                                                    name="th_no">
                                                    <div>STT</div>
                                                    <div>No.</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 150px;"
                                                    name="th_product">
                                                    <div>Sản phẩm</div>
                                                    <div>Products</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                                    name="th_description">
                                                    <div>Mô tả</div>
                                                    <div>Description</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                    name="th_quantity">
                                                    <div>Số lượng</div>
                                                    <div>Quantity</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                    name="th_priceunit">
                                                    <div>Đơn giá</div>
                                                    <div>Unit Price</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                    name="th_discount" t-if="display_discount">
                                                    <div>Chiết khấu</div>
                                                    <div>Disc.%</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 80px;"
                                                    name="th_taxes">
                                                    <div>Thuế</div>
                                                    <div>VAT</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                    name="th_subtotal">
                                                    <div>Thành tiền</div>
                                                    <div>Amount</div>
                                                </th>
                                                <th
                                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                    name="th_duration">
                                                    <div>Thời gian</div>
                                                    <div>Delivery time</div>
                                                </th>
                                            </tr>
                                            <t t-set="current_section" t-value="line" />
                                            <t t-set="current_subtotal" t-value="0" />
                                            <t t-set="totalprice" t-value="0" />
                                        </t>
                                        <t t-elif="line.display_type == 'line_section'">
                                            <t t-set="index" t-value="0" />
                                            <td
                                                style="border: 1px solid #ccc; vertical-align: middle;"
                                                name="td_section_line" colspan="99">
                                                <span t-field="line.name">A section title</span>
                                            </td>
                                        </t>

                                    </tr>
                                    <t
                                        t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_note') and not line.is_downpayment">

                                        <t t-set="taxamount" t-value="totalprice - current_subtotal" />
                                        <tr>
                                            <td class="text-end " colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                                <b>Tổng cộng</b> - Total Amount </td>

                                            <td class="text-end" name="td_section_subtotal"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;"
                                                colspan="99">
                                                <!--<strong
                                                    class="mr16">Subtotal</strong>-->
                                                <span t-out="current_subtotal"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.pricelist_id.currency_id}" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end " colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Chiết
                                                khấu</b> - Discount</td>

                                            <td class="text-end" name="td_section_subtotal"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "
                                                colspan="99">
                                                <!--<strong
                                                    class="mr16">Subtotal</strong>-->
                                                <!--<span
                                                t-esc="line.amount_undiscounted"
                                                t-options="{&quot;widget&quot;:
                                                &quot;monetary&quot;, &quot;display_currency&quot;:
                                                doc.pricelist_id.currency_id}"/>-->
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end" colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Thuế
                                                GTGT</b> - VAT </td>
                                            <td class="text-end"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                                colspan="99">
                                                <span t-esc="taxamount"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                            </td>
                                        </tr>
                                        <tr class="is-subtotal text-end">
                                            <td class="text-end" colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"><b>Tổng
                                                giá thanh toán</b> - Grand total </td>
                                            <td class="text-end"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold; "
                                                colspan="99">
                                                <span t-esc="totalprice"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                        </table>
                        <div style="padding: 15px"> </div>
                        <div><b>[Bảng]Tổng cộng </b>- Total Amount</div>
                        <table class="table table-sm" style="width: 500px;">
                            <t t-set="current_subtotal" t-value="0" />
                            <t t-set="display_subtotal" t-value="0" />
                            <t t-set="index" t-value="0" />
                            <tr t-foreach="lines_to_report" t-as="line">
                                <t t-if="line.display_type == 'line_note'">
                                    <!--<tr>-->
                                    <!-- Cột bên trái hiển thị line.name -->
                                    <!--    <th style="border: 1px solid #ccc; text-align: left;">-->
                                    <!--        <span t-esc="line.name"/>-->
                                    <!--    </th>-->
                                    <!-- Cột bên phải hiển thị subtotal trước khi reset -->
                                    <!--    <td class="text-end" name="td_section_subtotal"
                                    style="border: 1px solid #ccc; text-align: center;
                                    vertical-align: middle; font-weight: bold;">-->
                                    <!--        <span t-out="display_subtotal"
                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;,
                                    &quot;display_currency&quot;:
                                    doc.pricelist_id.currency_id}"/>-->
                                    <!--    </td>-->
                                    <!--</tr>-->
                                    <t t-set="index" t-value="index + 1" />
                                    <t t-set="current_section" t-value="line" />
                                    <t t-set="display_subtotal" t-value="current_subtotal" />
                                    <t t-set="current_subtotal" t-value="0" />
                                </t>
                                <t t-set="current_subtotal"
                                    t-value="current_subtotal + line.price_subtotal" />
                                <t
                                    t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_note') and not line.is_downpayment">
                                    <tr>
                                        <!-- Lặp lại current_section name nếu cần -->
                                        <td style="border: 1px solid #ccc; text-align: left;"
                                            colspan="1">
                                            <!--<span
                                            t-esc="current_section.name"/> --> Bảng <span t-esc="index" />/Table <span
                                                t-esc="index" />
                                        </td>
                                        <td class="text-end" name="td_section_subtotal"
                                            style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                            colspan="2">
                                            <span t-out="current_subtotal"
                                                t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.pricelist_id.currency_id}" />
                                        </td>
                                    </tr>
                                    <t t-set="current_section" t-value="False" />
                                </t>
                            </tr>
                            <tr>
                                <td class="text-start"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                    <b>Tổng cộng</b> - Total Amount </td>

                                <td class="text-end" name="td_section_subtotal"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                    <span t-esc="doc.amount_untaxed"
                                        t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.pricelist_id.currency_id}" />
                                </td>
                            </tr>
                            <tr>
                                <td class="text-start"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Chiết
                                    khấu</b> - Discount</td>

                                <td class="text-end" name="td_section_subtotal"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                    <!--<span
                                    t-esc="(doc.amount_undiscounted)"
                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;,
                                    &quot;display_currency&quot;:
                                    doc.pricelist_id.currency_id}"/>-->

                                    <span
                                        t-if="((doc.amount_undiscounted) - (doc.amount_untaxed)) &gt; 0"
                                        t-esc="(doc.amount_undiscounted) - (doc.amount_untaxed)"
                                        t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.pricelist_id.currency_id}" />
                                </td>
                            </tr>
                            <tr>
                                <td class="text-start"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Thuế
                                    GTGT</b> - VAT </td>
                                <td class="text-end"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                    <span t-esc="doc.amount_tax"
                                        t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                </td>
                            </tr>
                            <tr class="is-subtotal text-end">
                                <td class="text-start"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"><b>Tổng
                                    giá thanh toán</b> - Grand total </td>
                                <td class="text-end"
                                    style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                    <span t-esc="doc.amount_total"
                                        t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                </td>
                            </tr>
                        </table>
                        <p />
                        <div>
                            <t t-set="has_option_discount" t-value="any(doc.sale_order_option_ids)" />
                            <div t-if="has_option_discount">
                                <table name="table_optional_products" class="table table-sm "
                                    style="font-family: Arial, Helvetica, sans-serif;">
                                    <thead class="fw-bold">
                                        <tr>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 40px "
                                                name="th_no">
                                                <div>STT</div>
                                                <div>No.</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 150px"
                                                name="th_product">
                                                <div>Sản phẩm</div>
                                                <div>Products</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"
                                                name="th_description">
                                                <div>Mô tả</div>
                                                <div>Description</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                name="th_quantity">
                                                <div>Số lượng</div>
                                                <div>Quantity</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                name="th_priceunit">
                                                <div>Đơn giá</div>
                                                <div>Unit Price</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                name="th_discount" t-if="display_discount">
                                                <div>Chiết khấu</div>
                                                <div>Disc.%</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 80px;"
                                                name="th_taxes">
                                                <div>Thuế</div>
                                                <div>VAT</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                name="th_subtotal">
                                                <div>Thành tiền</div>
                                                <div>Amount</div>
                                            </th>
                                            <th
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; width: 100px;"
                                                name="th_duration">
                                                <div>Thời gian</div>
                                                <div>Duration</div>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody class="sale_tbody" style="border-top: none;">
                                        <t t-set="index" t-value="0" />
                                        <t t-set="amountprice" t-value="0" />
                                        <t t-set="tax" t-value="10" />
                                        <t t-set="taxamount" t-value="0" />
                                        <t t-set="totalamount" t-value="0" />
                                        <t t-set="totalprice" t-value="0" />
                                        <tr t-foreach="doc.sale_order_option_ids" t-as="option">
                                            <t t-set="index" t-value="index + 1" />
                                            <t t-set="amountprice"
                                                t-value="option.quantity*option.price_unit" />
                                            <td
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                                <span t-esc="index">1</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-start"
                                                name="td_option_name">
                                                <span t-field="option.product_id">Extra Chips</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                name="td_option_name">
                                                <div class="text-start" t-field="option.name">Extra
                                                    Chips</div>
                                                <div class="text-end">
                                                    <img t-if="option.product_id.image_128"
                                                        t-att-src="image_data_uri(option.product_id.image_128)"
                                                        style="max-height: 100px;" alt="ProductImg" />
                                                </div>
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-end"
                                                name="td_option_quantity">
                                                <span t-field="option.quantity">Extra Chips</span>
                                                <span t-field="option.uom_id">Đơn vị</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="has_option_discount" name="td_option_discount"
                                                groups="product.group_discount_per_so_line">
                                                <strong t-if="option.discount != 0.0"
                                                    class="text-info">
                                                    <t
                                                        t-out="((option.discount % 1) and '%s' or '%d')                                             %                                                  option.discount">
                                                    -</t>% </strong>
                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-end"
                                                name="td_option_price_unit">

                                                <div t-field="option.price_unit"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"
                                                    t-att-style="option.discount and 'text-decoration: line-through' or None"
                                                    t-att-class="option.discount and 'text-danger' or None">
                                                    1.5</div>
                                                <div t-if="option.discount">
                                                    <t
                                                        t-out="'%.2f' % ((1-option.discount / 100.0) * option.price_unit)"> </t>
                                                </div>
                                                <!--<t
                                                         t-set="totalamount" t-value="totalamount +
                                                         option.price_unit" />-->
                                            </td>
                                            <td style="border: 1px solid #ccc;"
                                                t-if="display_discount" class="text-end">
                                                <span t-field="option.discount">-</span>
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_taxes"
                                                class="text-end">
                                                <span t-esc="tax" />% <t t-set="taxamount"
                                                    t-value="taxamount + (tax / 100) * option.price_unit" />
                                            </td>
                                            <td style="border: 1px solid #ccc;" name="td_subtotal"
                                                class="text-end o_price_total">
                                                <div
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"
                                                    t-att-style="option.discount and 'text-decoration: line-through' or None"
                                                    t-att-class="option.discount and 'text-danger' or None"
                                                    t-esc="amountprice">27.00</div>
                                                <t t-set="totalamount"
                                                    t-value="(totalamount + amountprice)" />

                                            </td>
                                            <td style="border: 1px solid #ccc;" class="text-end ">
                                                <span>12-24</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end " colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                                <b>Tổng cộng</b> - Total Amount </td>
                                            <td class="text-end" colspan="99"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                                <span t-esc="totalamount"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                                <t t-set="taxamount"
                                                    t-value="(totalamount * 10)/ 100" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end " colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Chiết
                                                khấu</b> - Discount</td>
                                            <td class="text-end" colspan="99"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                                <span t-esc="totalamount"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                                <t t-set="taxamount"
                                                    t-value="(totalamount * 10)/ 100" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end" colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; "><b>Thuế
                                                GTGT</b> - VAT </td>
                                            <td class="text-end" colspan="99"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;">
                                                <span t-esc="taxamount"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />
                                                <t t-set="totalprice"
                                                    t-value="totalamount + taxamount" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-end" colspan="4"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle;"><b>Tổng
                                                giá thanh toán</b> - Grand total </td>
                                            <td class="text-end" colspan="99"
                                                style="border: 1px solid #ccc; text-align: center; vertical-align: middle; font-weight: bold;">
                                                <span t-esc="totalprice"
                                                    t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}" />

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="oe_structure">​</div>
                            </div>

                        </div>
                        <div style="padding: 15px"> </div>
                        <div class="oe_structure" />
                        <t t-if="doc.note">
                            <div style="font-family: Arial, Helvetica, sans-serif;">
                                <t t-esc="doc.note" />
                            </div>
                        </t>

                        <div style="font-family: Arial, Helvetica, sans-serif; font-size: 13px;"
                            class="row mt32 mb32" id="informations">
                            <div class="col-6 mw-100 mb-2" style="text-align: left;">
                                <div style="font-weight: bold;">Đại diện bên Cung cấp - For
                                    Provider</div>
                                <div style="margin-top: 70px">
                                    <div class="col-2">
                                        <div style="border-bottom: 1px solid black; margin: 2px;" />
                                    </div>
                                    <!--<div
                                    t-field="doc.user_id"/>-->
                                    <div>
                                        <b>Nguyen Lan Huong</b>
                                    </div>
                                    <div>
                                        <b>Accounts Manager</b>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 mw-100 mb-2" style="text-align: left; ">
                                <div style="font-weight: bold;">Đại diện Khách hàng - For Client</div>
                                <div style="margin-top: 70px">
                                    <div class="col-12">
                                        <div style="border-bottom: 1px solid black;" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
        <div t-attf-class="footer o_standard_footer ">
            <div class="text-start" style="border-top: 1px solid black;">
                <!--<div
                t-if="report_type == 'pdf'" class="text-muted">-->
                <!--Page:
                <span class="page"/> / <span class="topage"/>-->
                <div style="font-family: Arial, Helvetica, sans-serif; font-size: 13px;"> Tên tài
                    khoản/Bank's Name: <strong>Cong ty TNHH Giai Phap va Dich Vu Cao Cap</strong>
                </div>
                <div style="font-family: Arial, Helvetica, sans-serif; font-size: 13px;">
                    Số tài khoản/Bank's Account: 11001019662391 | Ngân hàng/Bank: MSB - Transaction
                    Department Branch | Mã/SWIFT CODE : MCOBVNVX
                </div>
                <!--</div>-->
                <!--<div
                t-if="report_type == 'pdf' and display_name_in_footer" class="text-muted">-->
                <!--</div>-->
            </div>
        </div>
    </template>

    <template id="report_stock_picking_bien_ban_giao_nhan">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang or o.env.lang)" />
                    <t t-set="partner"
                        t-value="o.partner_id or (o.move_ids and o.move_ids[0].partner_id) or False" />

                    <!--<t
                    t-set="address" t-value="o" />-->

                    <t t-set="information_block">
                    </t>
                    <br />
                    <br />
                    <div class="page" style="font-size: 13px; font-family: Times New Roman;">
                        <div class="row justify-content-end mb16">
                            <div
                                style=" text-align: center; font-size: 13px; font-family: Times New Roman;">
                                <h3 style="color: #1c4ab5; font-weight: bolder">BIÊN BẢN GIAO NHẬN
                                    HÀNG HÓA</h3>
                                <h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name" />
                                <div t-field="o.name"
                                    t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}" />
                            </div>

                        </div>
                        <p />

                        <div style="font-size: 13px; font-family: Times New Roman;">
                            <p>Chúng tôi gồm: </p>
                            <p style="font-weight: bold;">A. BÊN GIAO HÀNG: CÔNG TY CP THƯƠNG MẠI VÀ
                                TƯ VẤN TÂN CƠ <t t-if="'Bán hàng' != o.sale_id.team_id.name"> - KHO <span
                                        style="font-weight: bold;text-transform: uppercase;"
                                        t-field="o.picking_type_id.warehouse_id" />
                                </t>
                            </p>
                            <p style="font-weight: bold; margin-top: -15px"> Đơn vị: <t
                                    t-if="'Bán hàng' != o.sale_id.team_id.name">
                                    <span style="font-weight: bold;text-transform: uppercase;"
                                        t-field="o.sale_id.team_id" />
                                </t>
                            <t
                                    t-if="'Bán hàng' == o.sale_id.team_id.name">
                                    <span style="font-weight: bold;text-transform: uppercase;"
                                        t-field="o.picking_type_id.warehouse_id" />
                                </t>
                            </p>

                            <!--<p
                            style="font-weight: bold; margin-top: -15px"> Đơn vị: <span
                            t-field="o.origin"/> </p>-->

                            <div class="row mt32 mb32" style="margin-top: -15px">
                                <div class="col-3" name="div_origin">
                                    <p>1. Ông (Bà):<span t-field="o.sender_contact" /></p>
                                </div>

                                <div class="col-3" name="div_origin">
                                    <p>Chức vụ: <span t-field="o.sender_contact_title" /></p>
                                </div>

                                <div class="col-3" name="div_origin">
                                    <p>Điện thoại: <span t-field="o.sender_contact_phone" />
                                    </p>
                                </div>
                            </div>

                            <p />
                            <!--<p><span>1.
                            Ông (Bà): </span><span style="margin-left: 100px;">Chức vụ:</span> <span
                            style="margin-left: 100px;">Điện thoại:</span></p>-->
                            <p>
                                <b>B. BÊN VẬN TẢI: <span t-field="o.carrier_name" />
                                </b>
                            </p>

                            <div class="row mt32 mb32" style="margin-top: -15px">
                                <div class="col-3" name="div_origin">
                                    <p>1. Ông (Bà):<span t-field="o.carrier_contact" /></p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Chức vụ: <span t-field="o.carrier_contact_title" />
                                    </p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Biển số xe: <span t-field="o.license_plates" /></p>
                                </div>
                            </div>

                            <div class="row mt32 mb32">
                                <div class="col-3" name="div_origin">
                                    <p>2. CCCD/GPLX số: <span t-field="o.carrier_contact_id_card" />
                                    </p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Ngày cấp: <span t-field="o.carrier_contact_issue_date" /></p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Nơi cấp: <span t-field="o.carrier_contact_issue_place" /></p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Điện thoại: <span t-field="o.carrier_contact_phone" /></p>
                                </div>
                            </div>


                            <p />
                            <p>
                                <b>C. BÊN NHẬN HÀNG: </b>
                                <b>
                                    <span class="m-0" t-field="o.partner_id" />
                                </b>
                            </p>
                            <div class="row mt32 mb32" style="margin-top: -15px">
                                <div class="col-3" name="div_origin">
                                    <p>1. Ông (Bà): <span t-field="o.contact" />
                                    </p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Chức vụ: <span t-field="o.contact_title" />
                                    </p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Điện thoại: <span t-field="o.contact_phone" />
                                    </p>
                                </div>
                            </div>

                            <div class="row mt32 mb32">
                                <div class="col-3" name="div_origin">
                                    <p>2. CCCD/GPLX số: <span t-field="o.contact_id_card" />
                                    </p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Ngày cấp: <span t-field="o.issue_date" /></p>
                                </div>
                                <div class="col-3" name="div_origin">
                                    <p>Nơi cấp: <span t-field="o.issue_place" /></p>
                                </div>
                                <!--<div
                                class="col-3" name="div_origin">-->
                                <!--   <span>Điện thoại: </span>-->
                                <!--</div>-->
                            </div>
                            <!--<p><span>1.
                            Ông (Bà): </span> <span style="margin-left: 100px;">Chức vụ:</span>
                            <span style="margin-left: 100px;">Điện thoại:</span></p>-->
                            <!--<p><span>2.
                            CCCD số: </span> <span style="margin-left: 100px;">Ngày cấp:</span>
                            <span style="margin-left: 100px;">Nơi cấp:</span><span
                            style="margin-left: 100px;">Điện thoại:</span></p>-->
                            <p />
                            <p>Tiến hành xác nhận số lượng hàng hóa giao nhận cụ thể như sau:</p>
                            <p>
                                <b>I. TẠI NƠI NHẬN HÀNG: </b>
                            </p>
                            <p style="font-weight: bold;">1. Địa chỉ: <t t-if=" 'KHV' in o.name">
                                    <span>Kho Hòa Việt, Khu Phố 8, Phường Long Bình, Biên Hòa, Đồng
                                Nai</span>
                                </t>
                            <t
                                    t-if=" 'KHD' in o.name">
                                    <span>Quốc lộ 5 - Cẩm Điền - Cẩm Giàng - Hải Dương</span>
                                </t>
                            <t
                                    t-if=" 'KDN' in o.name">
                                    <span> 111-113 Lê Hiến Mai, Phường Hòa Minh, Quận Liên Chiểu, TP
                                Đà Nẵng</span>
                                </t>
                            </p>
                            <p style="font-weight: bold;">2. Thời gian xe đến: <span
                                    t-field="o.arrival_time" /></p>
                            <p>
                                <b>3. Hàng hóa: </b>
                            </p>

                        </div>

                        <div class="row mt32 mb32">
                            <div t-if="o.origin" class="col-auto" name="div_origin">
                                <strong>Đơn hàng:</strong>
                                <p t-field="o.origin" />
                            </div>
                            <div t-if="o.state" class="col-auto" name="div_sched_date">
                                <strong>Ngày vận chuyển:</strong>
                                <t t-if="o.state == 'done'">
                                    <p t-field="o.date_done" />
                                </t>
                                <t t-if="o.state != 'done'">
                                    <p t-field="o.scheduled_date" />
                                </t>
                            </div>
                        </div>
                        <p />
                        <table class="table table-sm table-bordered" t-if="o.state!='done'"
                            name="stock_move_table">
                            <thead>
                                <tr>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                        name="th_no">Số TT</th>
                                    <th style="border: 1px solid #000" name="th_sm_product">
                                        <strong>Tên hàng - quy cách</strong>
                                    </th>
                                    <th style="border: 1px solid #000" name="th_sm_dvt">
                                        <strong>ĐVT</strong>
                                    </th>
                                    <th style="border: 1px solid #000" name="th_sm_ordered">
                                        <strong>Số lượng đặt hàng</strong>
                                    </th>
                                    <th style="border: 1px solid #000" name="th_sm_quantity">
                                        <strong>Số lượng đã giao</strong>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="lines"
                                    t-value="o.move_ids.filtered(lambda x: x.product_uom_qty)" />
                                <t t-set="total_qty_uom_done" t-value="0" />
                                <t t-set="total_quantity_done" t-value="0" />
                                <t t-set="index" t-value="0" />
                                <tr t-foreach="lines" t-as="move">
                                    <t t-set="index" t-value="index + 1" />
                                    <td style="border: 1px solid black; text-align: center;"
                                        t-esc="index" />
                                    <td style="border: 1px solid #000">
                                        <span t-field="move.product_id" />
                                        <p
                                            t-if="move.description_picking != move.product_id.name and move.description_picking != move.product_id.display_name">
                                            <span t-field="move.description_picking" />
                                        </p>
                                    </td>
                                    <td style="border: 1px solid #000;text-align: center;">
                                        <span t-field="move.product_uom" />
                                    </td>
                                    <td style="border: 1px solid #000;text-align: center;">
                                        <span t-field="move.product_uom_qty" />

                                        <t t-set="total_qty_uom_done"
                                            t-value="total_qty_uom_done + move.product_uom_qty" />
                                    </td>
                                    <td style="border: 1px solid #000; text-align: center;">
                                        <span t-field="move.quantity" />

                                        <t t-set="total_quantity_done"
                                            t-value="total_quantity_done + move.quantity" />
                                    </td>
                                </tr>
                                <t>
                                    <tr
                                        style="border: 1px solid #000; text-align: center; vertical-align: middle;">
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                        <td />
                                        <td />

                                        <!--<td><span
                                        t-if="o.state == 'done'"><t
                                        t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_qty_uom_done"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                        </td>
                                        <td>
                                            <span t-esc="total_quantity_done"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                            <!--<span
                                            t-if="o.state == 'done'" t-esc="total_weight_done"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                            <!--<span
                                            t-if="o.state != 'done'" t-esc="total_weight_uom_qty"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                        <table class="table table-sm mt48 table-bordered"
                            t-if="o.move_line_ids and o.state=='done'" name="stock_move_line_table">
                            <!--t-if="o.move_line_ids
                            and o.state=='done'"-->
                            <t t-set="has_serial_number" t-value="False" />
                            <!--<t
                            t-set="result_package_id" t-value="False"/>-->
                            <t t-set="has_result_package_id"
                                t-value="any(move_line.result_package_id for move_line in o.move_line_ids)" />
                            <!--<t
                            t-set="has_barcode" t-value="any(move_line.product_id and
                            move_line.product_id.sudo().barcode or move_line.package_id for
                            move_line in o.move_line_ids)"/>-->
                            <t t-set="has_serial_number"
                                t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)"
                                groups="stock.group_production_lot" />
                            <t t-set="has_serial_number" t-value="o.move_line_ids.mapped('lot_id')"
                                groups="stock.group_lot_on_delivery_slip" />
                            <thead>
                                <tr>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;width: 40px">
                                        <strong>Số TT</strong>
                                    </th>
                                    <th name="th_sml_product1"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <strong>Tên hàng - quy cách</strong>
                                    </th>
                                    <th name="th_sml_product2"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <strong>ĐVT</strong>
                                    </th>
                                    <!--<th
                                    name="th_sml_qty_ordered" class="text-center" style="border: 1px
                                    solid black; text-align: center; vertical-align: middle;"
                                    t-if="not has_serial_number">-->
                                    <!--    <strong>Số lượng đặt hàng</strong>-->
                                    <!--</th>-->
                                    <th name="th_sml_quantity" class="text-center"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <strong>Số lượng</strong>
                                    </th>
                                    <!--<th
                                    name="th_sml_product"><strong/>Số lượng</th>-->
                                    <t name="lot_serial">
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                            Số Lô
                                        </th>
                                    </t>
                                    <!--<t
                                    t-if="result_package_id">-->
                                    <th name="th_sml_product"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"><strong />Mã
                                        đóng gói</th>
                                    <th name="th_sml_product"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"><strong />Loại
                                        bao bì</th>
                                    <th name="th_sml_product"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"><strong />Số
                                        kiện đóng gói</th>
                                    <th name="th_sml_product"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"><strong />Trọng
                                        lượng (Kg)</th>
                                    <th name="th_sml_product"
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: 150px"><strong />Ghi
                                        chú</th>

                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="total_qty_done" t-value="0" />
                                <!--<t
                                t-set="total_reserved_uom_qty" t-value="0"/>         -->
                                <t t-set="total_weight_done" t-value="0" />
                                <t t-set="total_weight_uom_qty" t-value="0" />
                                <t t-set="total_" />
                                <t t-set="index" t-value="0" />
                                <t t-foreach="o.move_line_ids_without_package" t-as="ml">
                                    <t t-set="index" t-value="index + 1" />
                                    <tr>
                                        <td style="border: 1px solid black; text-align: center;"
                                            t-esc="index" />
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                            <span t-field="ml.product_id.display_name" />
                                            <br />
                                            <span t-field="ml.product_id.description_picking" />
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <!--<span
                                            t-if="o.state != 'done'"
                                            t-field="ml.reserved_uom_qty"/>-->
                                            <span t-field="ml.product_uom_id" groups="uom.group_uom" />
                                            <!--<t
                                            t-set="total_reserved_uom_qty"
                                            t-value="total_reserved_uom_qty +
                                            ml.reserved_uom_qty"/>-->
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-if="o.state == 'done'" t-field="ml.quantity"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                            <t t-set="total_qty_done"
                                                t-value="total_qty_done + ml.quantity" />

                                            <!--<span
                                            t-field="ml.product_uom_id" groups="uom.group_uom"/>-->
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            class=" text-center h6">
                                            <div
                                                t-if="has_serial_number and (ml.lot_id or ml.lot_name)"
                                                t-esc="ml.lot_id.name or ml.lot_name"
                                                t-options="{'widget': 'barcode', 'humanreadable': 1, 'width': 400, 'height': 100, 'img_style': 'width:100%;height:35px;'}" />
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                            <!--<span
                                            t-esc="ml.location_id.display_name"/>-->
                                            <!--    <t t-if="ml.package_id">-->
                                            <div t-if="has_result_package_id"
                                                t-esc="ml.result_package_id.name"
                                                t-options="{'widget': 'barcode','symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}" />
                                            <span t-field="ml.result_package_id" />
                                            <!--</t>-->
                                        </td>
                                        <!--<td
                                        style="border: 1px solid black; text-align: center;
                                        vertical-align: middle;">-->
                                        <!--t-if="o.picking_type_id.code
                                        != 'outgoing'" groups="stock.group_stock_multi_locations"-->
                                        <!--    <div>-->
                                        <!--<span
                                        t-field="ml.move_id.quantity_done"/>-->
                                        <!--    </div>-->
                                        <!--</td>-->
                                        <!--<td
                                        style="border: 1px solid black; text-align: center;
                                        vertical-align: middle;" class="text-center"
                                        t-if="has_barcode">-->
                                        <!--    <t t-if="product_barcode != ml.product_id.barcode">-->
                                        <!--        <span t-if="ml.product_id and
                                        ml.product_id.barcode">-->
                                        <!--            <div t-field="ml.product_id.barcode"
                                        t-options="{'widget': 'barcode', 'symbology': 'auto',
                                        'width': 400, 'height': 100, 'quiet': 0, 'img_style':
                                        'height:35px;'}"/>-->
                                        <!--        </span>-->
                                        <!--        <t t-set="product_barcode"
                                        t-value="ml.product_id.barcode"/>-->
                                        <!--    </t>-->
                                        <!--</td>-->
                                        <!--<td
                                        style="border: 1px solid black; text-align: center;
                                        vertical-align: middle;" name="td_uom">-->
                                        <!--  <span t-field="ml.move_id.package_code"/>-->
                                        <!--</td>-->
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.move_id.package_type" />
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.move_id.number_of_packages" />
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.move_id.actual_weight" />
                                            <t t-set="total_weight_done"
                                                t-value="total_weight_done + float(ml.move_id.actual_weight)" />
                                        </td>


                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.move_id.note" />
                                        </td>

                                        <!--<t
                                        t-if="'INT' in o.name">-->
                                        <!--  <td style="border: 1px solid black; text-align: center;
                                        vertical-align: middle;" name="td_uom"/>-->
                                        <!--</t>-->
                                    </tr>
                                </t>
                                <t>
                                    <tr
                                        style="border: 1px solid #000; text-align: center; vertical-align: middle;">
                                        <td />
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                        <td />
                                        <!--<td><span
                                        t-if="o.state == 'done'"><t
                                        t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-if="o.state == 'done'" t-esc="total_qty_done"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                            <!--<span
                                            t-if="o.state != 'done'" t-esc="total_reserved_uom_qty"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                        </td>
                                        <td>
                                            <!-- <span t-if="o.state == 'done'"
                                            t-esc="total_weight_done"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                            <!--<span
                                            t-if="o.state != 'done'" t-esc="total_weight_uom_qty"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                        </td>

                                        <td />
                                        <td />
                                        <!--<td/>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <!--<span
                                            t-esc="total_weight_done"
                                            t-options="{&quot;widget&quot;: &quot;float&quot;,
                                            &quot;precision&quot;: 2}"/>-->
                                        </td>

                                        <td />
                                        <td />

                                    </tr>
                                </t>

                            </tbody>
                        </table>

                        <div>
                            <p style="font-weight: bold;">- Ngoại quan hàng hóa: </p>
                            <p style="font-weight: bold;">- Nhãn mác đóng gói: </p>
                            <p style="font-weight: bold;">- Tình trạng khác (nếu có):</p>
                            <p style="font-weight: bold;">4. Hồ sơ - chứng từ đi kèm: </p>
                            <p style="font-weight: bold;">II. TẠI NƠI GIAO HÀNG: </p>
                            <p style="font-weight: bold;">1. Địa chỉ: <span
                                    t-field="o.delivery_address" />
                            </p>
                            <p style="font-weight: bold;">2. Thời gian xe đến: <span
                                    t-field="o.arrival_time" /></p>
                            <p style="font-weight: bold;">Thời gian giao hàng xong:</p>

                            <div>
                                <span style="font-weight: bold;"> 3. </span>
                                <span style="font-weight: bold;"> Tình trạng hàng hóa </span>
                                <span>
                                    (Trường hợp bao bì đóng gói không còn nguyên vẹn hoặc có sự sai
                                    khác về số lượng/chất lượng hàng hóa,
                                    Bên nhận hàng có trách nhiệm ghi chi tiết sự sai khác ở mã hàng
                                    nào và loại bao bì đóng gói nào...
                                    vào Biên bản này với sự xác nhận của Bên vận tải; nếu không coi
                                    như "Số lượng hàng hóa đã nhận đủ và chất lượng hàng đạt yêu
                                    cầu".
                                    Đối với sản phẩm lắp xiết cần kiểm đếm chi tiết hơn, Bên nhận
                                    hàng có trách nhiệm phản hồi sự sai lệch về số liệu giao nhận
                                    cho
                                    Bên giao hàng biết trong vòng 03 (ba) ngày kể từ ngày nhận hàng.
                                    Nếu sau 03 ngày mà Bên nhận hàng không có phản hồi gì thì coi
                                    như đã đồng ý với số liệu của Biên bản này cũng như các chứng từ
                                    kèm theo
                                    - trừ trường hợp có sự thỏa thuận khác hơn):
                                </span>
                            </div>

                            <div>
                                <span style="font-weight: bold;"> 4. </span>
                        <span
                                    style="font-weight: bold;"> Tình trạng hồ sơ - chứng từ </span>
                        <span>
                                (Trường hợp bị thiếu hồ sơ - chứng từ đi kèm thì ghi rõ thiếu chứng
                                từ, tài liệu nào; nếu không coi như đã nhận đủ):
                                </span>
                                Biên bản được lập thành 04 (bốn) bản. Bên giao hàng giữ 02 bản (01
                                bản có chữ ký của bên vận tải và bên giao hàng khi giao hàng; 01 bản
                                có đầy đủ chữ ký của cả 3 bên do bên vận tải chuyển trả). Bên vận
                                tải và bên nhận hàng mỗi bên giữ 01 bản có đầy đủ chữ ký của cả 3
                                bên. </div>
                        </div>


                        <div class="row mt32 mb20" id="informations"
                            style="text-align: center; margin-top: 30px">
                            <div class="col-auto col-4 mw-100 mb-2">
                                <p style="font-weight: bold;">BÊN GIAO HÀNG</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                            <div class="col-auto col-4 mw-100 mb-2">
                                <p style="font-weight: bold;">BÊN VẬN TẢI</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                            <div class="col-auto col-4 mw-100 mb-2">
                                <p style="font-weight: bold;"> BÊN NHẬN HÀNG</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>

                        </div>
                        <!--footer
                        text-->
                        <div class="footer o_clean_footer">
                            <div class="row">
                                <div class="col-auto col-3 mw-100 mb-2">
                                    <span>BM.03-QT.01/GBD</span>
                                </div>
                                <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">

                                    <span>Lần ban hành 04</span>
                                </div>
                                <div class="col-auto col-3 mw-100 mb-1" style="text-align: center;">
                                    <ul t-if="report_type == 'pdf'"
                                        class="list-inline pagenumber float-end text-center">
                                        <li class="list-inline-item">
                                            <strong>
                                                <span class="page" />
                                            </strong>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_nhan_hang">
        <t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                          <div class="row" style="font-family: Times New Roman;">
                                <div class="col-6 mb4 text-center mt-3">
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.name"/>
                                    </li>
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.street"/>
                                    </li>
                                </div>
                                <div class="col-6 text-center" style="margin-top:10px;" t-field="o.company_id.report_header" name="moto">
                                    <li style="list-style-type: none; font-weight: bold">
                                        <span>Mẫu số: 01 - VT</span>
                                    </li>
                                    <li style="list-style-type: none;">
                                        <span>(Ban hành theo Thông tư số 200/2014/TT-BTC Ngày 22/12/2014 của Bộ Tài chính)</span>
                                    </li>
                                </div>
                            </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" >
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center;width: 40px" name="th_no">Số TT</th>
                                      
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Tên, nhãn hiệu, quy cách, phẩm chất vật tư, dụng cụ sản phẩm, hàng hóa</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:auto" name="th_serial_number" class="text-center">
                                           <strong>Mã</strong>
                                        </th>
                                         <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:100px" name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>
                                    
                                        <th colspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:200px">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Theo chứng từ</strong>
                                        </th>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Thực nhập</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                     <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_price" t-value="0"/>
                                    <t t-set="total_all_price" t-value="0"/>
                                    
                                    <t t-set="sorted_lines" t-value="o.move_ids"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                      <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                                <span t-field="ml.product_id.name"/><br/>
                                                <span t-field="ml.product_id.description_picking"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                             <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <!--<t t-set="total_qty_done" t-value="total_qty_done + ml.product_uom_qty"/>-->
                                                <t t-set="total_product_uom_qty" t-value="total_product_uom_qty + ml.product_uom_qty"/>
                                               
                                            </td>
                                           
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                               
                                                  <!-- <span t-if="o.state == 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  <!--<span t-if="o.state != 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  
                                                  <!--  <t t-set="total_weight_done" t-value="total_weight_done + ml.product_id.weight * ml.quantity"/>-->
                                                  <!--  <t t-set="total_weight_uom_qty" t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity"/>-->
                                                  <span t-if="o.state == 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <t t-set="total_qty_done" t-value="total_qty_done + ml.quantity"/>
                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                               
                                            </td>
                                            
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                              <span t-field="ml.price_unit" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                              
                                              <t t-set="total_price" t-value="ml.price_unit * ml.quantity"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-esc="total_price" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <t t-set="total_all_price" t-value="total_all_price + total_price"/>
                                            </td>
                                            
                                        </tr>
                                    </t>
                                    
                                    <t>
                                      <tr style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                         <td/>
                                        <td/>
                                        <!--<td><span t-if="o.state == 'done'"><t t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td style="font-size: 15px; font-weight: bold">
                                          <span t-if="o.state == 'done'" t-esc="total_qty_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
	                                        <span t-if="o.state != 'done'" t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                        </td>
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_all_price" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                        </td>
                                      </tr>
                                    </t>
                                  </tbody>
                            </table>
                        </div>
                        
                        <!--<div>- Tổng số tiền (Viết bằng chữ):</div>-->
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)							                                </div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                      
                    </t>
                </t>
            </t>
         </t>
    </template>

    <template id="report_stock_picking_phieu_kiem_tra_chat_luong">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Diễn giải: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Quy cách</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left" >
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to" >
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center" >
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">

                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" >
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" >
                                                <div>
                                                </div>
                                            </td>
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                            <!--</td>-->
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span  t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            <!--<td/>-->
                                            <!--<td/>-->
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)							                                </div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_luu_kho">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Mã số: 
                                </div>
                                <div name="div_state">
                                    - Diễn giải: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Số lô</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Hạn sử dụng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Mã kho</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">

                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="o.warehouse_id.code" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <div>
                                                </div>
                                            </td>
                                            
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_lay_hang">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <t t-if="'PICK' in o.name or 'QC' in o.name or 'OUTSOURCE' in o.name">
                        <div class="row">
                            <div class="col-6 mb4">
                                <img t-if="o.company_id.logo"
                                    t-att-src="image_data_uri(o.company_id.logo)"
                                    style="max-height: 45px;" alt="Logo" />
                            </div>
                            <div class="col-6 text-end" style="margin-top:22px;"
                                t-field="o.company_id.report_header" name="moto">
                                <li t-if="o.company_id.name" style="list-style-type: none;">
                                    <span t-field="o.company_id.name" />
                                </li>
                            </div>
                        </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                                <div
                                    style=" text-align: center; font-size: 12px; font-family: Times New Roman; margin-top: 10px">
                                    <t t-if="'PICK' in o.name">
                                        <h3
                                            style="text-align: center;color: #1c4ab5; font-weight: bolder">PHIẾU
                                            LẤY HÀNG</h3>
                                    </t>
                                    <t t-if="'QC' in o.name">
                                        <h3
                                            style="text-align: center;color: #1c4ab5; font-weight: bolder">PHIẾU
                                            XUẤT KIỂM ĐỊNH</h3>
                                    </t>
                                    <t t-if="'OUTSOURCE' in o.name">
                                        <h3
                                            style="text-align: center;color: #1c4ab5; font-weight: bolder">PHIẾU
                                            XUẤT GIA CÔNG XI MẠ</h3>
                                    </t>

                                    <h3
                                        style="text-align: center;color: #1c4ab5; font-weight: bolder"
                                        t-field="o.name" />
                                    <div t-field="o.name"
                                        t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}" />
                                </div>
                            </div>

                            <br />
                            <br />
                            <div>
                                <div t-if="o.partner_id">
                                    <p>
                                        <strong>Khách hàng: <span t-field="o.partner_id" /></strong>
                                    </p>
                                </div>
                                <div>
                                    <p>
                                        <strong>Đơn vị kinh doanh: <span t-field="o.sale_team_id" /></strong>
                                    </p>
                                </div>
                            </div>
                            <p />
                            <div class="mt48 mb32">
                                <div t-if="o.origin" class="" name="div_origin">
                                    <strong>Đơn hàng:</strong>
                                    <p t-field="o.origin" />
                                </div>
                                <div class="row">
                                    <div class="col-auto" name="div_state">
                                        <strong>Trạng thái:</strong>
                                        <p t-field="o.state" />
                                    </div>
                                    <div class="col-auto" name="div_sched_date">
                                        <strong>Ngày dự kiến:</strong>
                                        <p t-field="o.scheduled_date" />
                                    </div>
                                    <div class="col-auto" name="div_weight">
                                        <strong>Tổng KLTT(Kg): </strong>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <br />

                            <table class="table table-sm table-bordered"
                                t-if="o.move_line_ids and o.move_ids_without_package ">
                                <t t-set="has_barcode"
                                    t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)" />
                                <t t-set="has_serial_number"
                                    t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)"
                                    groups="stock.group_production_lot" />
                                <thead>
                                    <tr>
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;width:40px"
                                            name="th_no">Số TT</th>

                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="th_product">
                                            <strong>Tên hàng - quy cách</strong>
                                        </th>
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="th_serial_number" class="text-center">
                                            <strong>Số lô/Serial</strong>
                                        </th>
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px"
                                            name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px">
                                            <strong>Số lượng</strong>
                                        </th>

                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                            <strong>KL lý thuyết (Kg)</strong>
                                        </th>

                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="th_from"
                                            t-if="o.picking_type_id.code != 'incoming'" align="left"
                                            groups="stock.group_stock_multi_locations">
                                            <strong>Vị trí đi</strong>
                                        </th>
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="th_to" t-if="o.picking_type_id.code != 'outgoing'"
                                            groups="stock.group_stock_multi_locations">
                                            <strong>Vị trí đến</strong>
                                        </th>

                                        <!--<th
                                        style="border: 1px solid black; text-align: center;
                                        vertical-align: middle;" name="th_barcode"
                                        class="text-center">-->
                                        <!--    <strong>Mã vạch sản phẩm</strong>-->
                                        <!--</th>-->
                                        <th
                                            style="border: 1px solid black; text-align: center; vertical-align: middle; width: 350px">
                                            <strong>Ghi chú</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0" />
                                    <t t-set="total_product_uom_qty" t-value="0" />
                                    <t t-set="total_product_quantity" t-value="0" />
                                    <t t-set="total_weight_done" t-value="0" />
                                    <t t-set="total_weight_uom_qty" t-value="0" />
                                    <t t-set="sorted_lines"
                                        t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)" />
                                    <t t-set="index" t-value="0" />
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1" />
                                        <tr>
                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                t-esc="index" />
                                            <td style="border: 1px solid black;">
                                                <span t-field="ml.product_id.display_name" />
                                                <br />
                                                <span t-field="ml.product_id.description_picking" />
                                            </td>
                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                class=" text-center h6">
                                                <!--<div
                                                t-if="has_serial_number and (ml.lot_id or
                                                ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"
                                                t-options="{'widget': 'barcode', 'symbology':
                                                'auto', 'width': 400, 'height': 100, 'quiet': 0,
                                                'img_style': 'height:35px;'}"/>-->
                                                <div
                                                    t-if="has_serial_number and (ml.lot_id or ml.lot_name)"
                                                    t-esc="ml.lot_id.name or ml.lot_name" />
                                            </td>
                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                name="td_uom_group">
                                                <span t-field="ml.product_uom_id"
                                                    groups="uom.group_uom" />
                                            </td>
                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.qty_done"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                                <span t-if="o.state != 'done'" t-field="ml.quantity"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />

                                                <!--<span
                                                t-if="o.state != 'done'"
                                                t-field="ml.reserved_uom_qty"/>-->

                                                <t t-set="total_qty_done"
                                                    t-value="total_qty_done + ml.qty_done" />
                                                <t t-set="total_product_quantity"
                                                    t-value="total_product_quantity + ml.quantity" />
                                                <!--<t
                                                t-set="total_reserved_uom_qty"
                                                t-value="total_reserved_uom_qty +
                                                ml.reserved_uom_qty"/>-->
                                                <!--<span
                                                t-field="ml.product_uom_id"
                                                groups="uom.group_uom"/>-->
                                                <!--<t
                                                t-set="total_weight_uom_qty"
                                                t-value="total_weight_uom_qty + ml.product_id.weight
                                                * ml.quantity"/>-->
                                            </td>

                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;">

                                                <!--<span
                                                t-if="o.state == 'done'"
                                                t-esc="ml.product_id.weight"/>-->
                                                <!--<span
                                                t-if="o.state != 'done'"
                                                t-esc="ml.product_id.weight"/>-->
                                                <span t-if="o.state == 'done'"
                                                    t-esc="ml.product_id.weight * ml.qty_done"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                                <span t-if="o.state != 'done'"
                                                    t-esc="ml.product_id.weight * ml.quantity"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />

                                                <t t-set="total_weight_done"
                                                    t-value="total_weight_done + ml.product_id.weight * ml.qty_done" />
                                                <t t-set="total_weight_uom_qty"
                                                    t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity" />


                                            </td>

                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                t-if="o.picking_type_id.code != 'incoming'"
                                                groups="stock.group_stock_multi_locations">
                                                <span t-esc="ml.location_id.display_name" />
                                                <t t-if="ml.package_id">
                                                    <span t-field="ml.package_id" />
                                                </t>
                                            </td>
                                            <td
                                                style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                                t-if="o.picking_type_id.code != 'outgoing'"
                                                groups="stock.group_stock_multi_locations">
                                                <div>
                                                    <span t-field="ml.location_dest_id" />
                                                    <t t-if="ml.result_package_id">
                                                        <span t-field="ml.result_package_id" />
                                                    </t>
                                                </div>
                                            </td>

                                            <!--<td
                                            style="border: 1px solid black; text-align: center;
                                            vertical-align: middle;" class="text-center">-->
                                            <!--    <t t-if="product_barcode !=
                                            ml.product_id.barcode">-->
                                            <!--        <span t-if="ml.product_id and
                                            ml.product_id.barcode">-->
                                            <!--            <div t-field="ml.product_id.barcode"
                                            t-options="{'widget': 'barcode', 'symbology': 'auto',
                                            'width': 400, 'height': 100, 'quiet': 0, 'img_style':
                                            'height:35px;'}"/>-->
                                            <!--        </span>-->
                                            <!--        <t t-set="product_barcode"
                                            t-value="ml.product_id.barcode"/>-->
                                            <!--    </t>-->
                                            <!--</td>-->

                                            <td style="border: 1px solid black;">
                                                <span t-field="ml.move_id.note" />
                                            </td>
                                        </tr>
                                    </t>

                                    <t>
                                        <tr
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                            <td />
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td />
                                            <td />
                                            <!--<td><span
                                            t-if="o.state == 'done'"><t
                                            t-esc="total_qty_done"/></span></td>-->
                                            <td>
                                                <span t-if="o.state == 'done'"
                                                    t-esc="total_qty_done"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                                <span t-if="o.state != 'done'"
                                                    t-esc="total_product_quantity"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                            </td>
                                            <td>
                                                <span t-if="o.state == 'done'"
                                                    t-esc="total_weight_done"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                                <span t-if="o.state != 'done'"
                                                    t-esc="total_weight_uom_qty"
                                                    t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                            </td>
                                            <td />
                                            <td />


                                            <td />
                                        </tr>
                                    </t>

                                </tbody>
                            </table>


                        </div>
                        <p />
                        <div class="row mt32 mb32" id="informations"
                            style="display: flex; justify-content: space-between ;text-align: center;">


                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <p style="font-weight: bold;">NGƯỜI LẬP</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                                <p style="font-weight: bold;">NGƯỜI SOẠN HÀNG</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                                <p style="font-weight: bold;">THỦ KHO</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>

                        </div>
                    </t>
                    <t t-else="">
                        <p style="text-align: center; font-size: 20px; color: red">Warning!!! Bạn
                            đang in nhầm phiếu</p>
                    </t>
                </t>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_dong_goi">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người nhận hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Lý do xuất kho: 
                                </div>
                                <div name="div_sched_date">
                                    - Xuất kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Quy cách</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">

                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <div>
                                                </div>
                                            </td>
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                            <!--</td>-->
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            <!--<td/>-->
                                            <!--<td/>-->
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_xuat_kho">
        <t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                          <div class="row" style="font-family: Arial;">
                                <div class="col-6 mb4 text-center mt-3">
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.name"/>
                                    </li>
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.street"/>
                                    </li>
                                </div>
                                <div class="col-6 text-center" style="margin-top:10px;" t-field="o.company_id.report_header" name="moto">
                                    <li style="list-style-type: none; font-weight: bold">
                                        <span>Mẫu số: 01 - VT</span>
                                    </li>
                                    <li style="list-style-type: none;">
                                        <span>(Ban hành theo Thông tư số 200/2014/TT-BTC Ngày 22/12/2014 của Bộ Tài chính)</span>
                                    </li>
                                </div>
                            </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người nhận hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ (bộ phận): 
                                </div>
                                <div name="div_sched_date">
                                    - Lý do xuất kho
                                </div>
                                <div name="div_sched_date">
                                    - Xuất tại kho (ngăn lô): <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" style="font-family: Arial;">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center;width: 40px" name="th_no">Số TT</th>
                                      
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Tên, nhãn hiệu, quy cách, phẩm chất vật tư, dụng cụ sản phẩm, hàng hóa</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:auto" name="th_serial_number" class="text-center">
                                           <strong>Mã</strong>
                                        </th>
                                         <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:100px" name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>
                                    
                                        <th colspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:200px">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Yêu cầu</strong>
                                        </th>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Thực xuất</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                     <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_price" t-value="0"/>
                                    <t t-set="total_all_price" t-value="0"/>
                                    
                                    <t t-set="sorted_lines" t-value="o.move_ids"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                      <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                                <span t-field="ml.product_id.name"/><br/>
                                                <span t-field="ml.product_id.description_picking"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                             <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <!--<t t-set="total_qty_done" t-value="total_qty_done + ml.product_uom_qty"/>-->
                                                <t t-set="total_product_uom_qty" t-value="total_product_uom_qty + ml.product_uom_qty"/>
                                               
                                            </td>
                                           
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                               
                                                  <!-- <span t-if="o.state == 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  <!--<span t-if="o.state != 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  
                                                  <!--  <t t-set="total_weight_done" t-value="total_weight_done + ml.product_id.weight * ml.quantity"/>-->
                                                  <!--  <t t-set="total_weight_uom_qty" t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity"/>-->
                                                  <span t-if="o.state == 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <t t-set="total_qty_done" t-value="total_qty_done + ml.quantity"/>
                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                               
                                            </td>
                                            
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                              <span t-field="ml.price_unit" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                              
                                              <t t-set="total_price" t-value="ml.price_unit * ml.quantity"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-esc="total_price" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <t t-set="total_all_price" t-value="total_all_price + total_price"/>
                                            </td>
                                            
                                        </tr>
                                    </t>
                                    
                                    <t>
                                      <tr style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                         <td/>
                                        <td/>
                                        <!--<td><span t-if="o.state == 'done'"><t t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td style="font-size: 15px; font-weight: bold">
                                          <span t-if="o.state == 'done'" t-esc="total_qty_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
	                                        <span t-if="o.state != 'done'" t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_all_price" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                        </td>
                                      </tr>
                                    </t>
                                  </tbody>
                            </table>
                        </div>
                        
                        <!--<div>- Tổng số tiền (Viết bằng chữ):</div>-->
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày.....tháng.....năm....</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người nhận hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Phó Giám Đốc</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                        </div>
                      
                    </t>
                </t>
            </t>
         </t>
    </template>

    <template id="report_stock_picking_phieu_tinh_so_luong">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <br />
                    <h2>Inventory Count Sheet</h2>
                    <t t-set="locations" t-value="docs.mapped('location_id')" />
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <!--<th
                                groups="stock.group_stock_multi_locations"><strong>Location</strong></th>-->
                                <th class="text-center">
                                    <strong>Product</strong>
                                </th>
                                <!--<th
                                groups="stock.group_production_lot"><strong>Lot/Serial
                                Number</strong></th>-->
                                <!--<th
                                groups="stock.group_tracking_lot"><strong>Package</strong></th>-->
                                <!--<th
                                class="text-end"><strong>Available Quantity</strong></th>-->
                                <!--<th
                                class="text-end"><strong>On hand Quantity</strong></th>-->
                                <!--<th
                                class="text-end"><strong>Counted Quantity</strong></th>-->
                                <th class="text-center">
                                    <strong>Mã vạch sản phẩm</strong>
                                </th>
                                <th class="text-center">
                                    <strong>Mã lô</strong>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="locations" t-as="location">
                                <tr groups="stock.group_stock_multi_locations">
                                    <td style="border-bottom: 1px solid black;" colspan="2">
                                        <strong t-esc="location.display_name" />
                                    </td>
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;"
                                    groups="stock.group_production_lot"/>-->
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;" groups="stock.group_tracking_lot"/>-->
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;"/>-->
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;"><span t-field="location.barcode"
                                    t-options="{'widget': 'barcode', 'width': 600, 'height': 100,
                                    'img_style': 'width:300px; height:50px;'}"/></td>-->
                                </tr>
                                <tr
                                    t-foreach="docs.filtered(lambda quant: quant.location_id.id == location.id)"
                                    t-as="line" style="height: 50px;">
                                    <!--<td
                                    groups="stock.group_stock_multi_locations"/>-->
                                    <td
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <span t-field="line.product_id" />
                                    </td>
                                    <!--<td
                                    groups="stock.group_production_lot"><span
                                    t-field="line.lot_id"/></td>-->
                                    <!--<td
                                    groups="stock.group_tracking_lot"><span
                                    t-field="line.package_id"/></td>-->
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;" class="text-end"><span
                                    t-field="line.available_quantity"/> <span
                                    t-field="line.product_uom_id" groups="uom.group_uom"/></td>-->
                                    <!--<td
                                    style="border: 1px solid black; text-align: center;
                                    vertical-align: middle;" class="text-end"><span
                                    t-field="line.quantity"/> <span t-field="line.product_uom_id"
                                    groups="uom.group_uom"/></td>-->
                                    <!--<td
                                    class="text-end">-->
                                    <!-- If 0, then leave blank so users have space to write a
                                    number -->
                                    <!--    <t t-if="line.inventory_quantity == 0"><span/></t>-->
                                    <!--    <t t-else=""><span
                                    t-field="line.inventory_quantity"/></t>-->
                                    <!--    <span t-field="line.product_uom_id"
                                    groups="uom.group_uom"/>-->
                                    <!--</td>-->
                                    <td
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                        class="text-center">
                                        <div t-field="line.product_id.barcode"
                                            t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}" />
                                        <div t-field="line.product_id.barcode" />
                                    </td>
                                    <td
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;height: 100px"
                                        class=" text-center h6">
                                        <div t-esc="line.lot_id.name or line.lot_name"
                                            t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}" />
                                        <div t-esc="line.lot_id.name or line.lot_name" />
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

    <template id="report_stock_picking_phieu_de_nghi_kiem_xuat_kho">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="row" style="font-size: 13px; font-family: Times New Roman;">
                        <div class="col-6">
                            <div>
                                <strong> CÔNG TY CP TM &amp; TV TÂN CƠ</strong>
                            </div>
                            <div>
                                <strong>PHÒNG KẾ HOẠCH &amp; HÀNG HÓA</strong>
                            </div>
                        </div>
                        <div class="col-6">
                            <table class="table">
                                <tr>
                                    <td style="border: 1px solid black; width: 70px;">Số PĐN:</td>
                                    <td style="border: 1px solid black; ">
                                        <span t-field="o.quote_number" />
                                    </td>
                                    <td style="border: 1px solid black; width: 70px;">Ngày:</td>
                                    <td style="border: 1px solid black; ">
                                        <span t-esc="o.scheduled_date.strftime('%d/%m/%Y')" />
                                    </td>
                                </tr>
                                <tr>
                                    <td style="border: 1px solid black; width: 70px;">Số LXK:</td>
                                    <td style="border: 1px solid black;">
                                        <span t-field="o.origin" />
                                    </td>
                                    <td style="border: 1px solid black;  width: 70px;">Ngày:</td>
                                    <td style="border: 1px solid black;">
                                        <span t-esc="o.create_date.strftime('%d/%m/%Y')" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="page" style="font-size: 13px; font-family: Times New Roman;">
                        <div class="row justify-content-end mb16">
                            <div
                                style=" text-align: center; font-size: 12px; font-family: Times New Roman; margin-top: 10px">
                                <h4 style="text-align: center;color: #1c4ab5; font-weight: bolder">PHIẾU
                                    ĐỀ NGHỊ KIÊM LỆNH XUẤT KHO VÀ PACKING LIST</h4>
                                <!--<h3
                                style="text-align: center;color: #1c4ab5; font-weight: bolder"
                                t-field="o.name"/>-->
                                <!--<div
                                t-field="o.name" t-options="{'widget': 'barcode', 'width': 600,
                                'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                            </div>
                        </div>

                        <br />
                        <br />
                        <div class="">

                            <div>
                                <p>
                                    <strong>Xuất cho: <span t-field="o.sale_team_id" /></strong>
                                </p>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <strong>Tại kho: <span t-field="o.warehouse_id" /></strong>
                                </div>
                                <div class="col-6">
                                    Thời gian giao hàng: Trước ngày
                                </div>
                            </div>
                        </div>
                        <p />
                        <div class="mt30 mb20">
                            <!--<div
                            t-if="o.name" class="" name="div_origin">-->
                            <!--    <strong>Đơn hàng:</strong>-->
                            <!--    <p t-field="o.name"/>-->
                            <!--</div>-->
                            <div class="row">
                                <div class="col-2" name="div_state">
                                    <strong>Lý do xuất kho:</strong>
                                    <p />
                                </div>
                                <div class="col-2" name="div_sched_date">
                                    <strong>Xuất bán: </strong>
                                    <p />
                                </div>
                                <div class="col-2" name="div_weight">
                                    <strong>Điều chuyển: </strong>
                                </div>
                                <div class="col-2" name="div_state">
                                    <strong>Gia công:</strong>
                                    <p />
                                </div>
                                <div class="col-2 flex" name="div_sched_date">
                                    <strong>Xi mạ:</strong>
                                    <p />
                                </div>
                                <div class="col-2" name="div_weight">
                                    <div class="d-flex">
                                        <div>
                                            <strong>Xuất mẫu: </strong>
                                        </div>
                                        <div>
                                            <span>- Có trả lại</span>
                                            <br />
                                            <span>- Không trả lại</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <br />

                        <table class="table table-sm table-bordered"
                            t-if="o.move_line_ids and o.move_ids_without_package ">
                            <thead>
                                <tr>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: 20px"
                                        name="th_no">STT</th>

                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: auto"
                                        name="th_product">
                                        <strong>Mã hàng</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                        name="th_product">
                                        <strong>Tên hàng - quy cách</strong>
                                    </th>

                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px "
                                        name="th_unit">
                                        <strong>ĐVT</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                        <strong>Vị trí</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                        <strong>Hợp đồng</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: 100px">
                                        <strong>Số lượng</strong>
                                    </th>


                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                        <strong>Trọng lượng (Kg)</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                        <strong>Hàng của đơn vị</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                        <strong>Đơn hàng số</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: 200px">
                                        <strong>Thực xuất/Packing list</strong>
                                    </th>
                                    <th
                                        style="border: 1px solid black; text-align: center; vertical-align: middle; width: 200px">
                                        <strong>Ghi chú</strong>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="total_qty_done" t-value="0" />
                                <t t-set="total_product_uom_qty" t-value="0" />
                                <t t-set="total_product_quantity" t-value="0" />
                                <t t-set="total_weight_done" t-value="0" />
                                <t t-set="total_weight_uom_qty" t-value="0" />
                                <t t-set="sorted_lines"
                                    t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)" />
                                <t t-set="index" t-value="0" />
                                <t t-foreach="sorted_lines" t-as="ml">
                                    <t t-set="index" t-value="index + 1" />
                                    <tr>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            t-esc="index" />
                                        <td style="border: 1px solid black; vertical-align: middle;">
                                            <span t-field="ml.product_id.default_code" />
                                            <br />

                                        </td>
                                        <td style="border: 1px solid black; vertical-align: middle;">
                                            <span t-field="ml.product_id.name" />
                                            <br />

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom_group">
                                            <span t-field="ml.product_id.uom_id"
                                                groups="uom.group_uom" />
                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                            <span t-field="ml.location_id.name"
                                                groups="uom.group_uom" />

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.quantity"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />

                                            <!--<span
                                            t-if="o.state != 'done'"
                                            t-field="ml.reserved_uom_qty"/>-->


                                            <t t-set="total_product_quantity"
                                                t-value="total_product_quantity + ml.quantity" />

                                        </td>

                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">

                                            <span t-esc="ml.product_id.weight * ml.quantity"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />

                                            <t t-set="total_weight_uom_qty"
                                                t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity" />
                                        </td>

                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle; font-size: 14px">

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;">

                                        </td>
                                        <td
                                            style="border: 1px solid black; text-align: center; vertical-align: middle;"
                                            name="td_uom">
                                            <span t-field="ml.move_id.note" />
                                        </td>
                                    </tr>
                                </t>

                                <t>
                                    <tr
                                        style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td />
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                        <td />
                                        <td />
                                        <td />
                                        <td />
                                        <td>
                                            <span t-esc="total_product_quantity"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}" />
                                        </td>
                                        <td>

                                            <span t-esc="total_weight_uom_qty"
                                                t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}" />
                                        </td>

                                        <td />
                                        <td />
                                        <td />
                                        <td />


                                    </tr>
                                </t>

                            </tbody>
                        </table>


                    </div>
                    <p />
                    <span><strong>Ghi chú:</strong> - Hàng đi đường phải có Phiếu xuất kho kiêm vận
                        chuyển nội bộ</span>
                    <br />
                    <span style="margin-left: 62px;">- Hàng chỉ được ra khỏi kho khi có Phiếu xuất
                        kho</span>
                    <div class="row mt32 mb32" id="informations"
                        style="display: flex; justify-content: space-between ;text-align: center; margin-top: 40px">


                        <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            <div style="font-weight: bold;">NGƯỜI LẬP</div>
                            <p>(Ký, họ tên)</p>
                        </div>
                        <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                            <div style="font-weight: bold;">LÃNH ĐẠO ĐƠN VỊ</div>
                            <p>(Ký, họ tên)</p>
                        </div>
                        <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                            <div style="font-weight: bold;">THEO DÕI</div>
                            <p>(Ký, họ tên)</p>
                        </div>
                        <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                            <div style="font-weight: bold;">P.TCKT</div>
                            <p>(Ký, họ tên)</p>
                        </div>
                    </div>
                </t>


            </t>
        </t>
    </template>

    <template id="report_stock_picking_lenh_kho">
        <t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                          <div class="row" style="font-family: Times New Roman;">
                                <div class="col-6 mb4 text-center mt-3">
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.name"/>
                                    </li>
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.street"/>
                                    </li>
                                </div>
                                <div class="col-6 text-center" style="margin-top:10px;" t-field="o.company_id.report_header" name="moto">
                                    <li  style="list-style-type: none; font-weight: bold">
                                        <span>Mẫu số: 02 - VT</span>
                                    </li>
                                    <li  style="list-style-type: none;">
                                        <span>(Ban hành theo Thông tư số 200/2014/TT-BTC Ngày 22/12/2014 của Bộ Tài chính)</span>
                                    </li>
                                </div>
                            </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                            <div class="">
                                     <div t-if="o.partner_id">
                                        	<p>
                                        		<strong>Nhà cung cấp: <span t-field="o.partner_id"/></strong>
                                        	</p>
                                    </div>
                            </div>
                         <p/>
                            <div class="mt48 mb32">
                                <div t-if="o.origin" class="" name="div_origin">
                                    <strong>Đơn hàng:</strong>
                                    
                                </div>
                                <div class="row">
                                    <div class="col-auto" name="div_state">
                                    <strong>Trạng thái:</strong>
                                    <p t-field="o.state"/>
                                    </div>
                                    <div class="col-auto" name="div_sched_date">
                                        <strong>Ngày dự kiến:</strong>
                                        <p t-field="o.scheduled_date"/>
                                    </div>
                                    <div class="col-auto" name="div_weight">
                                        <strong>Tổng KLTT(Kg): </strong>
                                    </div>
                                </div>
                            </div>
                            <br/>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center;width: 40px" name="th_no">Số TT</th>
                                      
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Tên hàng - quy cách</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center" t-if="has_serial_number">
                                           <strong>Số lô/Serial</strong>
                                        </th>
                                         <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px" name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>
                                        
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:100px">
                                            <strong>Khối lượng lý thuyết (Kg)</strong>
                                        </th>
                                        <!--<th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 200px" name="th_from" t-if="o.picking_type_id.code != 'incoming'" align="left" groups="stock.group_stock_multi_locations">-->
                                        <!--    <strong>Vị trí đi</strong>-->
                                        <!--</th>-->
                                        <!--<th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 200px" name="th_to" t-if="o.picking_type_id.code != 'outgoing'" groups="stock.group_stock_multi_locations">-->
                                        <!--    <strong>Vị trí đến</strong>-->
                                        <!--</th>-->
                                        
                                        <!--<th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_barcode" class="text-center" t-if="has_barcode">-->
                                        <!--    <strong>Mã vạch sản phẩm</strong>-->
                                        <!--</th>-->
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 200px">
                                           <strong>Ghi chú</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                     <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                      <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                                <span t-field="ml.product_id.display_name"/><br/>
                                                <span t-field="ml.product_id.description_picking"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6" t-if="has_serial_number">
                                                <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>
                                                <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>
                                            </td>
                                             <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <t t-set="total_qty_done" t-value="total_qty_done + ml.quantity"/>
                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                               
                                            </td>
                                           
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                               
                                                   <span t-if="o.state == 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                  <span t-if="o.state != 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                  
                                                    <t t-set="total_weight_done" t-value="total_weight_done + ml.product_id.weight * ml.quantity"/>
                                                    <t t-set="total_weight_uom_qty" t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity"/>
                                               
                                            </td>
                                            
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-if="o.picking_type_id.code != 'incoming'" groups="stock.group_stock_multi_locations">-->
                                            <!--    <span t-esc="ml.location_id.display_name"/>-->
                                            <!--        <t t-if="ml.package_id">-->
                                            <!--            <span t-field="ml.package_id"/>-->
                                            <!--        </t>-->
                                            <!--</td>-->
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-if="o.picking_type_id.code != 'outgoing'" groups="stock.group_stock_multi_locations">-->
                                            <!--    <div>-->
                                            <!--        <span t-field="ml.location_dest_id"/>-->
                                            <!--        <t t-if="ml.result_package_id">-->
                                            <!--            <span t-field="ml.result_package_id"/>-->
                                            <!--        </t>-->
                                            <!--    </div>-->
                                            <!--</td>-->
                                            
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" class="text-center" t-if="has_barcode">-->
                                            <!--    <t t-if="product_barcode != ml.product_id.barcode">-->
                                            <!--        <span t-if="ml.product_id and ml.product_id.barcode">-->
                                            <!--            <div t-field="ml.product_id.barcode" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                            <!--        </span>-->
                                            <!--        <t t-set="product_barcode" t-value="ml.product_id.barcode"/>-->
                                            <!--    </t>-->
                                            <!--</td>-->
                                            
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                              <!--<span t-field="ml.move_id.note"/>-->
                                            </td>
                                            
                                        </tr>
                                    </t>
                                    
                                    <t>
                                      <tr style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                         <td t-if="has_serial_number"/>
                                        <td/>
                                        <!--<td><span t-if="o.state == 'done'"><t t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                          <span t-if="o.state == 'done'" t-esc="total_qty_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
	                                        <span t-if="o.state != 'done'" t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                        </td>
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-if="o.state == 'done'" t-esc="total_weight_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
    	                                   <span t-if="o.state != 'done'" t-esc="total_weight_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <!--<td t-if="o.picking_type_id.code != 'incoming'"/>-->
                                        <!--<td t-if="o.picking_type_id.code != 'outgoing'"/>-->
                                       
                                        <!--<td t-if="has_barcode"/>-->
                                        <td/>
                                      </tr>
                                    </t>
                                    
                                  </tbody>
                            </table>
                            
                            
                        </div>
                        <p/>
                        <div class="row mt32 mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <p style="font-weight: bold;">NGƯỜI LẬP</p>
                                 <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center; ">
                                <p style="font-weight: bold;">THỦ KHO</p>
                                <p>(Ký và ghi rõ họ tên)</p>
                            </div>
                        
                        </div>
                      
                    </t>
                </t>
            </t>
         </t>
    </template>
</odoo>